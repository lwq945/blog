## BFC(Block Formatting Contexts)块级格式化上下文
块级格式化上下文是页面上一个独立渲染的区域，容器里的子元素在布局上不会影响到外面的元素。

浮动元素和绝对定位元素（absolute，fixed），非块级盒子的块级容器（例如 inline-block, table-cells, 和 table-captions），以及overflow值不为“visiable”的块级盒子，都会为他们的内容创建新的块级格式化上下文。

**生成BFC：**
- float： 除了none以外的值 （left，right）
- position：（absolute，fixed）
- overflow： 除了visible 以外的值（hidden，auto，scroll ）
- display： (table-cell，table-caption，inline-block，flex)

**BFC的作用：**
1. 清除浮动(解决父容器高度塌陷问题)

子元素都浮动，父元素无法感知到子元素，所以高度塌陷变为0。在父元素设置overflow：hidden；产生一个新的BFC，清除浮动。

2. 解决上下margin叠加的问题
相邻元素设置的外边距会叠加。给任意一个元素添加一个父级元素，并设置overflow：hidden；产生一个新的BFC，margin就不叠加在一起了。

## 在什么场景下会出现外边距合并？如何合并？如何不让相邻元素外边距合并？给个父子外边距合并的范例?
### 以下场景会出现外边距合并：
1. 当两个元素上下相邻时，上面元素的下边距和下面元素的上边距会合并外边距。
2. 当一个元素包含另一个元素时，父元素**不设置border**，子元素设置的上下外边距会和父元素的上下外边距合并。
3. 空的块级元素，不设置border、padding、内容，只设置margin的话，上下边距会合并。
### 如何合并：
```
两个正垂直外边距，浏览器取大值；
如果垂直外边距都设置为负值，浏览器会选取两个外边距的绝对值的最大值；
如果一个正外边距与一个负外边距合并，会从正外边距减去这个负外边距的绝对值。
简单点说，就是正正取大值、正负值相加、负负最负值
```
### 如何不让相邻元素外边距合并?
只要他们之间没有阻挡(例如边框，非空内容，padding等)就会发生margin重叠。所以给任意的一个元素添加一个父级元素，并在父级元素形成一个新的BFC，就可以解决margin合并。

## 浮动元素有什么特征？对父容器、其他浮动元素、普通元素、文字分别有什么影响?
浮动元素根据设置的的float属性值而定，可以左右移动，直到浮动元素的框碰到父级元素的框或者其他浮动元素的框才会停止；浮动框不属于文档中的普通流，当一个元素浮动之后，不会影响到块级框的布局而只会影响内联框（通常是文本）的排列，文档中的普通流就会表现得和浮动框不存在一样，当浮动框高度超出包含框的时候，也就会出现包含框不会自动伸高来闭合浮动元素（“高度塌陷”现象）。

**对父容器影响：** 如果父容器没有设置高度，子元素都是浮动元素，父级元素会视浮动元素为不存在，父容器的高度会崩塌，变为0。

**对其它浮动元素影响：** 如果父级元素的宽度较小，不能容纳多个浮动元素的宽度，其他浮动元素会下移，直到有足够的空间；如果浮动元素的高度不一样，下移的浮动元素可能会被卡住。

**对普通元素影响：** 浮动元素会脱离文档流，其后的普通元素会视它为不存在，覆盖它原先位置，并且按照文档流的位置顺序排列，有时会被浮动元素遮住。

**对文字的影响：** 普通元素里的文字会感应到浮动元素的存在，会为浮动流出空间，并且围绕浮动元素框排列。

## 清除浮动
1. 在浮动元素后添加一个空标签，设置样式clear的值为both。添加额外的空标签影响内容语义化。
2. 使用 br标签和其自身的 html属性，br 有 clear=“all | left | right | none” 属性，`<br clear="all" /> `。
3. 利用BFC的特性来“清浮动”，让父元素生成一个新的BFC包围浮动的子元素。
4. 利用`：after`伪元素来清除浮动，不用添加额外的空标签影响内容语义化，不会像BFC会带来不同的副作用。
 ```
  .clearfix:after {
      content:" "; 
      display:block/table; 
      clear:both; 
  }
  .clearfix {
      *zoom:1; 
  }
```

## position有哪些值？
- static：
 普通流元素的默认值，没有定位。

 参考点：自身在html的位置。
- relative：
 生成相对定位的元素，根据top、right、bottom、left属性设置的值实现位置定位。

 参考点：自身在普通流的位置。

 使用场景：多用于为绝对定位的元素做参照点。
- absolute：
 生成绝对定位的元素，根据top、right、bottom、left属性设置的值实现位置定位。

 参考点：距离最近的非static祖先元素位置。如果元素没有已定位的祖先元素，那么他的位置就相对于初始包含块html来定位。

 使用场景：用于为元素设置水平垂直居中。
- fixed：
 生成绝对定位的元素，也是绝对定位的一种，根据top、right、bottom、left属性设置的值实现位置定位；

 参考点：浏览器的窗口（viewport）。

 使用场景：随着浏览器滚动，位置固定不变，固定菜单栏、回到顶部按钮。
## z-index 有什么作用? 如何使用?
设置元素在z轴方向的层级(堆叠顺序)，z-index值越高，元素位置越靠上。

使用Z-index属性的前提：对于一个已经定位的元素（即position属性值是非static的元素）才有效。

## position:relative和负margin都可以使元素位置发生偏移?二者有什么区别?
### 两种方法都能使元素位置发生偏移。
**区别：**

position：relative；是生成相对定位的元素，根据top、right、bottom、left属性设置的值让位置偏移，相对于自身在普通流的位置发生偏移，但其还是占据原来的空间，不影响其后元素的布局；margin为元素设置的四个方向边距，不仅使自身的位置发生改变，其后的元素也会受其影响，出现位置变化。
